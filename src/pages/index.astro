---
import { getCollection } from 'astro:content';
import BasicLayout from '../layouts/BasicLayout.astro';
import Post from '../components/Post.astro';

const pageTitle = "An Hero";
const allPosts = await getCollection('blog');
const descendingPosts = allPosts.sort(((a,b) => a.id < b.id ? 1 : b.id < a.id ? -1 : 0));
---
<BasicLayout pageTitle={pageTitle}>
  {descendingPosts.map(async post =>
    <Post
      title={post.data.title}
      publishDate={post.data.publishDate}
      url={post.id}
      showTeaser={true}
      rawContent={post.body}
    />
  )}
</BasicLayout>
